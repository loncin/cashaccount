"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
function _exec(shellStr) {
    var _data = '';
    var ret = new Promise(function (res, rej) {
        console.log('+' + shellStr);
        const child = child_process_1.exec(shellStr);
        child
            .stdout
            .on('data', data => {
            _data += data;
            console.log(data);
        });
        child
            .stderr
            .on('error', data => {
            console.error(data);
            rej('exec shell error');
        });
        child.on('close', code => {
            console.log(code);
            ret.data = _data;
            res(code);
        });
    });
    return ret;
}
exports.default = {
    exec: _exec,
    execSync: child_process_1.execSync
};
