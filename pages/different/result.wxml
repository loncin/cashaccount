<view class="container">
  <view class="result-header">
    <view class="header-left">
      <text class="type-tag">{{recommendation.type}}</text>
    </view>
    <view class="header-right">
      <view class="ai-badge">
        <text class="ai-icon">âœ¨</text>
        <text>AI Smart Recommendation</text>
      </view>
    </view>
  </view>
  
  <view class="content-card shadow-lg">
    <view class="title-section">
      <view class="title-row">
        <text class="title">{{recommendation.title}}</text>
        <view class="nav-btn" bindtap="openMap" wx:if="{{recommendation.location}}">
          <text class="icon">ğŸš€</text>
          <text>å¯¼èˆª</text>
        </view>
      </view>
      <view class="divider"></view>
    </view>
    
    <text class="intro">{{recommendation.intro}}</text>
    
    <view class="weather-section" wx:if="{{recommendation.weather}}">
      <view class="section-header">
        <text class="icon">ğŸŒ¤ï¸</text>
        <text class="label">å¤©æ°”é¢„è§ˆ</text>
      </view>
      <view class="weather-card">
        <view class="weather-main">
          <text class="temp">{{recommendation.weather.temp}}</text>
          <text class="desc">{{recommendation.weather.desc}}</text>
        </view>
        <view class="weather-tips">
          <text class="tips-label">ğŸ’¡ å‡ºè¡Œå»ºè®®ï¼š</text>
          <text class="tips-text">{{recommendation.weather.tips}}</text>
        </view>
      </view>
    </view>
    
    <view class="highlight-section">
      <view class="section-header">
        <text class="icon">âœ¨</text>
        <text class="label">æ·±åº¦äº®ç‚¹</text>
      </view>
      <view class="reason-content">
        <text class="text">{{recommendation.reason}}</text>
      </view>
    </view>
    
    <view class="itinerary-section">
      <view class="section-header">
        <text class="icon">ğŸ—“ï¸</text>
        <text class="label">ç²¾å¿ƒè§„åˆ’</text>
      </view>
      <view class="timeline">
        <block wx:for="{{recommendation.itinerary}}" wx:key="day">
          <view class="timeline-item">
            <view class="timeline-line"></view>
            <view class="timeline-dot"></view>
            <view class="timeline-content">
              <view class="day-badge">Day {{item.day}}</view>
              <text class="day-title">{{item.title}}</text>
              <text class="day-desc">{{item.desc}}</text>
            </view>
          </view>
        </block>
      </view>
    </view>
    
    <view class="tips-section">
      <view class="section-header">
        <text class="icon">ğŸ’¡</text>
        <text class="label">æ—…è¡Œè´´å£«</text>
      </view>
      <view class="tips-grid">
        <block wx:for="{{recommendation.notices}}" wx:key="*this">
          <view class="tip-item">
            <text class="tip-dot">â€¢</text>
            <text class="tip-text">{{item}}</text>
          </view>
        </block>
      </view>
    </view>
  </view>
  
  <view class="footer-actions">
    <button class="btn btn-regenerate" bindtap="regenerate">{{isFromShare ? 'æˆ‘ä¹Ÿè¦ç©' : 'ğŸ”„ é‡æ–°ç”Ÿæˆ'}}</button>
    <button class="btn btn-collect" bindtap="collect" wx:if="{{!recommendation._id}}">â¤ï¸ æ”¶è—</button>
    <button class="btn btn-share" open-type="share" wx:if="{{recommendation._id}}">ğŸ“¤ åˆ†äº«ç»™å¥½å‹</button>
  </view>
</view>
